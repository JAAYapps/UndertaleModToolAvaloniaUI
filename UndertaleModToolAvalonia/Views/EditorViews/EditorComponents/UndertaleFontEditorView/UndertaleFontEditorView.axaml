<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
			 xmlns:vm="using:UndertaleModToolAvalonia.ViewModels.EditorViewModels.EditorComponents.UndertaleFontEditorViewModel"
			 xmlns:controls="using:UndertaleModToolAvalonia.Controls"
			 xmlns:converters="using:UndertaleModToolAvalonia.Converters"
			 xmlns:controlConverters="using:UndertaleModToolAvalonia.Converters.ControlConverters"
			 xmlns:undertale="using:UndertaleModLib.Models"
			 xmlns:utils="using:UndertaleModToolAvalonia.Utilities"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             x:Class="UndertaleModToolAvalonia.Views.EditorViews.EditorComponents.UndertaleFontEditorView.UndertaleFontEditorView"
			 x:DataType="vm:UndertaleFontEditorViewModel">
	<ScrollViewer VerticalScrollBarVisibility="Visible">
		<Grid Margin="15">
			<Grid.Resources>
				<controlConverters:CharConverter x:Key="CharConverter"/>
				<controlConverters:ZeroToStringOutputConverter x:Key="ZeroToOutput"/>
				<controlConverters:AdditionConverter x:Key="AdditionConverter"/>
				<converters:IsVersionAtLeastConverter x:Key="IsVersionAtLeastConverter"/>
			</Grid.Resources>
			<Grid.ColumnDefinitions>
				<ColumnDefinition Width="1*"/>
				<ColumnDefinition Width="3*"/>
			</Grid.ColumnDefinitions>
			<Grid.RowDefinitions>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="Auto"/>
			</Grid.RowDefinitions>

			<TextBlock Grid.Row="0" Grid.Column="0" Margin="3">Name</TextBlock>
			<controls:UndertaleStringReference Grid.Row="0" Grid.Column="1" Margin="3" ObjectReference="{Binding UndertaleFont.Name}"/>

			<TextBlock Grid.Row="1" Grid.Column="0" Margin="3">Display name</TextBlock>
			<controls:UndertaleStringReference Grid.Row="1" Grid.Column="1" Margin="3" ObjectReference="{Binding UndertaleFont.DisplayName}"/>

			<TextBlock Grid.Row="2" Grid.Column="0" Margin="3">Font size</TextBlock>
			<Grid Grid.Row="2" Grid.Column="1" Margin="3">
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="*"/>
					<ColumnDefinition Width="Auto"/>
				</Grid.ColumnDefinitions>
				<TextBox Grid.Column="0" Text="{Binding UndertaleFont.EmSize}"/>
				<TextBlock Grid.Column="1" VerticalAlignment="Bottom" Text=" em"/>
			</Grid>

			<TextBlock Grid.Row="3" Grid.Column="0" Margin="3">Bold</TextBlock>
			<CheckBox Grid.Row="3" Grid.Column="1" Margin="3" IsChecked="{Binding UndertaleFont.Bold}"/>

			<TextBlock Grid.Row="4" Grid.Column="0" Margin="3">Italic</TextBlock>
			<CheckBox Grid.Row="4" Grid.Column="1" Margin="3" IsChecked="{Binding UndertaleFont.Italic}"/>

			<TextBlock Grid.Row="5" Grid.Column="0" Margin="3">Range</TextBlock>
			<Grid Grid.Row="5" Grid.Column="1">
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="*"/>
					<ColumnDefinition Width="Auto"/>
					<ColumnDefinition Width="*"/>
				</Grid.ColumnDefinitions>
				<TextBox Grid.Column="0" Margin="3" Text="{Binding UndertaleFont.RangeStart}"/>
				<TextBlock Grid.Column="1" Margin="3" Text=" - "/>
				<TextBox Grid.Column="2" Margin="3" Text="{Binding UndertaleFont.RangeEnd}"/>
			</Grid>

			<TextBlock Grid.Row="6" Grid.Column="0" Margin="3">Charset</TextBlock>
			<TextBox Grid.Row="6" Grid.Column="1" Margin="3" Text="{Binding UndertaleFont.Charset}"/>

			<TextBlock Grid.Row="7" Grid.Column="0" Margin="3">Anti Aliasing</TextBlock>
			<TextBox Grid.Row="7" Grid.Column="1" Margin="3" Text="{Binding UndertaleFont.AntiAliasing}"/>

			<TextBlock Grid.Row="8" Grid.Column="0" Margin="3">Texture</TextBlock>
			<controls:UndertaleObjectReference Grid.Row="8" Grid.Column="1" Margin="3" ObjectReference="{Binding UndertaleFont.Texture}" ObjectType="{x:Type undertale:UndertaleTexturePageItem}"/>

			<TextBlock Grid.Row="9" Grid.Column="0" Margin="3">Scale</TextBlock>
			<Grid Grid.Row="9" Grid.Column="1">
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="*"/>
					<ColumnDefinition Width="*"/>
				</Grid.ColumnDefinitions>
				<TextBox Grid.Column="0" Margin="3" Text="{Binding UndertaleFont.ScaleX}"/>
				<TextBox Grid.Column="1" Margin="3" Text="{Binding UndertaleFont.ScaleY}"/>
			</Grid>

			<TextBlock Grid.Row="10" Grid.Column="0" Margin="3" Text="Ascender"
					   IsVisible="{Binding Mode=OneTime, Converter={StaticResource IsVersionAtLeastConverter}, ConverterParameter=2022.2}"/>
			<TextBox Grid.Row="10" Grid.Column="1" Margin="3" Text="{Binding UndertaleFont.Ascender}"
							   IsVisible="{Binding Mode=OneTime, Converter={StaticResource IsVersionAtLeastConverter}, ConverterParameter=2022.2}"/>

			<TextBlock Grid.Row="11" Grid.Column="0" Margin="3" Text="Ascender offset"
					   IsVisible="{Binding Mode=OneTime, Converter={StaticResource IsVersionAtLeastConverter}, ConverterParameter=2022.2}"/>
			<TextBox Grid.Row="11" Grid.Column="1" Margin="3" Text="{Binding UndertaleFont.AscenderOffset}"
							   IsVisible="{Binding Mode=OneTime, Converter={StaticResource IsVersionAtLeastConverter}, ConverterParameter=2022.2}"/>

			<TextBlock Grid.Row="12" Grid.Column="0" Margin="3" Text="SDF spread value"
					   IsVisible="{Binding Mode=OneTime, Converter={StaticResource IsVersionAtLeastConverter}, ConverterParameter=2023.2}"/>
			<TextBox Grid.Row="12" Grid.Column="1" Margin="3" Text="{Binding UndertaleFont.SDFSpread}"
							   IsVisible="{Binding Mode=OneTime, Converter={StaticResource IsVersionAtLeastConverter}, ConverterParameter=2023.2}"/>

			<TextBlock Grid.Row="13" Grid.Column="0" Margin="3" Text="Line height"
					   IsVisible="{Binding Mode=OneTime, Converter={StaticResource IsVersionAtLeastConverter}, ConverterParameter=2023.6}"/>
			<TextBox Grid.Row="13" Grid.Column="1" Margin="3" Text="{Binding UndertaleFont.LineHeight}"
							   IsVisible="{Binding Mode=OneTime, Converter={StaticResource IsVersionAtLeastConverter}, ConverterParameter=2023.6}"/>

			<TextBlock Grid.Row="14" Grid.ColumnSpan="2" Margin="3,30,3,3" HorizontalAlignment="Center" Foreground="DarkGray" FontStyle="Italic" TextWrapping="Wrap" TextAlignment="Center">
				Hint: You can click on any glyph here to highlight it in the "Glyphs".
			</TextBlock>

			<ScrollViewer Grid.Row="15" Grid.ColumnSpan="2" Margin="3" AllowAutoHide="False" HorizontalScrollBarVisibility="Disabled" VerticalScrollBarVisibility="Visible" MaxHeight="200" HorizontalAlignment="Center" HorizontalContentAlignment="Center">
				<Viewbox Stretch="Uniform" StretchDirection="DownOnly" Margin="0,0,10,0">
					<Grid Name="TexturePreviewGrid" Cursor="Hand">
						<Grid.Background>
							<SolidColorBrush Color="Black"/>
						</Grid.Background>
						<controls:UndertaleTexturePageItemDisplay TextureItem="{Binding $parent[UserControl].DataContext.UndertaleFont.Texture, Mode=OneWay}"
																  Editor="{Binding $parent[UserControl].DataContext.Editor}"
																  TextureCacheService="{Binding $parent[UserControl].DataContext.TextureCacheService}"
																  FileService="{Binding $parent[UserControl].DataContext.FileService}"/>
						<!--<ItemsControl ItemsSource="{Binding UndertaleFont.Glyphs, Mode=OneWay}">
							<ItemsControl.ItemsPanel>
								<ItemsPanelTemplate>
									<Canvas/>
								</ItemsPanelTemplate>
							</ItemsControl.ItemsPanel>
							<ItemsControl.Styles>
								<Style Selector="ContentPresenter" x:DataType="undertale:UndertaleFont+Glyph">
									<Setter Property="Canvas.Left" Value="{Binding SourceX}"/>
									<Setter Property="Canvas.Top" Value="{Binding SourceY}"/>
								</Style>
							</ItemsControl.Styles>
							<ItemsControl.ItemTemplate>
								<DataTemplate>
									<Grid>
										<Rectangle Name="GlyphRectangle" Stroke="#FFB23131" StrokeThickness="1"
										   Width="{Binding SourceWidth, Mode=OneWay, FallbackValue=0}"
										   Height="{Binding SourceHeight, Mode=OneWay, FallbackValue=0}">
											<Rectangle.Fill>
												<SolidColorBrush Color="Red" Opacity="0.2"/>
											</Rectangle.Fill>
										</Rectangle>
										<Canvas Panel.ZIndex="1">
											<Canvas.Styles>
												<Style Selector="Canvas">
													<Style.Animations>
														<Animation Duration="0:0:1" IterationCount="INFINITE">
															<KeyFrame Cue="0%">
																<Setter Property="Opacity" Value="1.0" />
															</KeyFrame>
															<KeyFrame Cue="50%">
																<Setter Property="Opacity" Value="0.0" />
															</KeyFrame>
															<KeyFrame Cue="100%">
																<Setter Property="Opacity" Value="1.0" />
															</KeyFrame>
														</Animation>
													</Style.Animations>
												</Style>
											</Canvas.Styles>

											<Rectangle Width="1" Height="{Binding SourceHeight, Mode=OneWay, FallbackValue=0}" Stroke="Blue" StrokeThickness="1" HorizontalAlignment="Left">
												<Rectangle.RenderTransform>
													<TranslateTransform X="{Binding Offset, Mode=OneWay, FallbackValue=0}"/>
												</Rectangle.RenderTransform>
											</Rectangle>
											<Rectangle Width="{Binding Shift, Mode=OneWay, FallbackValue=0}" Height="1" Stroke="LawnGreen" StrokeThickness="1" VerticalAlignment="Top">
												<Rectangle.RenderTransform>
													<TranslateTransform Y="{Binding SourceHeight, Mode=OneWay, FallbackValue=0, Converter={StaticResource AdditionConverter}, ConverterParameter=-1}"/>
												</Rectangle.RenderTransform>
											</Rectangle>
											<Rectangle Width="1" Height="1" Stroke="#FF3E8080" StrokeThickness="1" VerticalAlignment="Top">
												<Rectangle.RenderTransform>
													<TranslateTransform Y="{Binding SourceHeight, Mode=OneWay, FallbackValue=0, Converter={StaticResource AdditionConverter}, ConverterParameter=-1}"/>
												</Rectangle.RenderTransform>
											</Rectangle>
										</Canvas>
									</Grid>
								</DataTemplate>
							</ItemsControl.ItemTemplate>
						</ItemsControl>-->
						<Canvas Name="GlyphsOverlayCanvas" DataContext="{Binding SelectedGlyph, Mode=OneWay}">
							<Grid IsVisible="{Binding $parent.DataContext, Converter={x:Static ObjectConverters.IsNotNull}}">

								<Grid.RenderTransform>
									<TranslateTransform X="{Binding SourceX}" Y="{Binding SourceY}" />
								</Grid.RenderTransform>

								<Rectangle Name="GlyphRectangle" Stroke="#FFB23131" StrokeThickness="1"
										   Width="{Binding SourceWidth, Mode=OneWay, FallbackValue=0}"
										   Height="{Binding SourceHeight, Mode=OneWay, FallbackValue=0}">
									<Rectangle.Fill>
										<SolidColorBrush Color="Red" Opacity="0.2"/>
									</Rectangle.Fill>
								</Rectangle>
								<Canvas Panel.ZIndex="1">
									<Canvas.Styles>
										<Style Selector="Canvas">
											<Style.Animations>
												<Animation Duration="0:0:1" IterationCount="INFINITE">
													<KeyFrame Cue="0%">
														<Setter Property="Opacity" Value="1.0" />
													</KeyFrame>
													<KeyFrame Cue="50%">
														<Setter Property="Opacity" Value="0.0" />
													</KeyFrame>
													<KeyFrame Cue="100%">
														<Setter Property="Opacity" Value="1.0" />
													</KeyFrame>
												</Animation>
											</Style.Animations>
										</Style>
									</Canvas.Styles>

									<Rectangle Width="1" Height="{Binding SourceHeight, Mode=OneWay, FallbackValue=0}" Fill="Blue" Stroke="Blue" StrokeThickness="0" HorizontalAlignment="Left">
										<Rectangle.RenderTransform>
											<TranslateTransform X="{Binding Offset, Mode=OneWay, FallbackValue=0}"/>
										</Rectangle.RenderTransform>
									</Rectangle>
									<Rectangle Width="{Binding Shift, Mode=OneWay, FallbackValue=0}" Height="1" Fill="LawnGreen" Stroke="LawnGreen" StrokeThickness="0" VerticalAlignment="Top">
										<Rectangle.RenderTransform>
											<TranslateTransform Y="{Binding SourceHeight, Mode=OneWay, FallbackValue=0, Converter={StaticResource AdditionConverter}, ConverterParameter=-1}"/>
										</Rectangle.RenderTransform>
									</Rectangle>
									<Rectangle Width="1" Height="1" Stroke="#FF3E8080" Fill="#FF3E8080" StrokeThickness="0" VerticalAlignment="Top">
										<Rectangle.RenderTransform>
											<TranslateTransform Y="{Binding SourceHeight, Mode=OneWay, FallbackValue=0, Converter={StaticResource AdditionConverter}, ConverterParameter=-1}"/>
										</Rectangle.RenderTransform>
									</Rectangle>
								</Canvas>
							</Grid>
						</Canvas>
					</Grid>
				</Viewbox>
			</ScrollViewer>
			<StackPanel Grid.Row="16" Grid.ColumnSpan="2" Orientation="Horizontal" HorizontalAlignment="Center">
				<Button Margin="3" Width="220" Command="{Binding EditGlyphRectangleCommand}" CommandParameter="{Binding $parent[Window]}" IsEnabled="{Binding SelectedGlyph, Converter={x:Static ObjectConverters.IsNotNull}}">
                    <TextBlock Text="{Binding EditRectangleButtonText}"/>
                </Button>
				<Button Margin="3" Width="200" Content="Create an empty glyph" Command="{Binding CreateGlyphCommand}"/>
            </StackPanel>

            <TextBlock Name="GlyphsLabel" Grid.Row="17" Grid.ColumnSpan="2" Margin="3" HorizontalAlignment="Left">Glyphs:</TextBlock>
            <Grid Grid.Row="18" Grid.ColumnSpan="2" MaxHeight="570" Margin="3" RowDefinitions="*,*">
				<Grid IsVisible="{Binding !IsKerningViewVisible}" RowDefinitions="*,*">
					<DataGrid Grid.Row="0" x:Name="GlyphsGrid" ItemsSource="{Binding UndertaleFont.Glyphs, Mode=OneWay}" SelectedItem="{Binding SelectedGlyph}" CanUserResizeColumns="True"
                                    AutoGenerateColumns="False" HorizontalGridLinesBrush="LightGray" VerticalGridLinesBrush="LightGray" HeadersVisibility="Column" SelectionMode="Single">
						<DataGrid.Styles>
							<Style Selector="DataGridCell:selected /template/ ContentPresenter#PART_ContentPresenter">
								<Setter Property="Background" Value="{DynamicResource SystemAccentColor}" />
							</Style>
						</DataGrid.Styles>
						<DataGrid.Columns>
							<DataGridTemplateColumn Header="Char" Width="*">
								<DataGridTemplateColumn.CellTemplate>
									<DataTemplate>
										<TextBox Text="{Binding Character, Mode=TwoWay, Converter={StaticResource CharConverter}}"
												 Margin="20,0,0,0" MaxLength="1"
												 ToolTip.Tip="{Binding Character, Mode=OneWay}"/>
									</DataTemplate>
								</DataGridTemplateColumn.CellTemplate>
							</DataGridTemplateColumn>
							<DataGridTemplateColumn Header="Source position/size" Width="*">
								<DataGridTemplateColumn.CellTemplate>
									<DataTemplate>
										<Grid>
											<Grid.ColumnDefinitions>
												<ColumnDefinition Width="*"/>
												<ColumnDefinition Width="*"/>
												<ColumnDefinition Width="*"/>
												<ColumnDefinition Width="*"/>
											</Grid.ColumnDefinitions>
											<TextBox Grid.Column="0" Text="{Binding SourceX, Mode=TwoWay}" />
											<TextBox Grid.Column="1" Text="{Binding SourceY, Mode=TwoWay}" />
											<TextBox Grid.Column="2" Text="{Binding SourceWidth, Mode=TwoWay}" />
											<TextBox Grid.Column="3" Text="{Binding SourceHeight, Mode=TwoWay}" />
										</Grid>
									</DataTemplate>
								</DataGridTemplateColumn.CellTemplate>
							</DataGridTemplateColumn>
							<DataGridTemplateColumn Width="*">
								<DataGridTemplateColumn.Header>
									<StackPanel Orientation="Horizontal" ToolTip.Tip="The number of pixels to shift right when advancing to the next character.&#13;It's highlighed in green on the texture above.">
										<TextBlock Text="Shift" Margin="0,0,3,0"/>
										<TextBlock Text="(?)" Foreground="Gray" FontSize="11" Margin="0,0,3,0"/>
										<Rectangle Width="7" Height="7" Fill="LawnGreen"/>
									</StackPanel>
								</DataGridTemplateColumn.Header>
								<DataGridTemplateColumn.CellTemplate>
									<DataTemplate>
										<TextBox Text="{Binding Shift, Mode=TwoWay}" />
									</DataTemplate>
								</DataGridTemplateColumn.CellTemplate>
							</DataGridTemplateColumn>
							<DataGridTemplateColumn Width="*">
								<DataGridTemplateColumn.Header>
									<StackPanel Orientation="Horizontal" ToolTip.Tip="The number of pixels to horizontally offset the rendering of the glyph.&#13;It's highlighed in blue on the texture above.">
										<TextBlock Text="Offset" Margin="0,0,3,0"/>
										<TextBlock Text="(?)" Foreground="Gray" FontSize="11" Margin="0,0,3,0"/>
										<Rectangle Width="7" Height="7" Fill="Blue"/>
									</StackPanel>
								</DataGridTemplateColumn.Header>
								<DataGridTemplateColumn.CellTemplate>
									<DataTemplate>
										<TextBox Text="{Binding Offset, Mode=TwoWay}" />
									</DataTemplate>
								</DataGridTemplateColumn.CellTemplate>
							</DataGridTemplateColumn>
							<DataGridTemplateColumn Header="Kerning" Width="100">
								<DataGridTemplateColumn.CellTemplate>
									<DataTemplate>
										<Button Margin="0,-1" Command="{Binding $parent[UserControl].((vm:UndertaleFontEditorViewModel)DataContext).EditKerningCommand}" CommandParameter="{Binding}">
											<Button.Content>
												<MultiBinding Converter="{StaticResource ZeroToOutput}" ConverterParameter="{Binding Kerning.Count, Mode=OneWay}">
													<Binding Source="Add"/>
													<Binding Source="Edit"/>
												</MultiBinding>
											</Button.Content>
										</Button>
									</DataTemplate>
								</DataGridTemplateColumn.CellTemplate>
							</DataGridTemplateColumn>
						</DataGrid.Columns>
					</DataGrid>
					<Button Grid.Row="1" HorizontalAlignment="Stretch" Margin="5" DoubleTapped="Button_DoubleTapped">
						<TextBlock Margin="5" TextAlignment="Center" FontStyle="Italic">Double click to add.</TextBlock>
					</Button>
				</Grid>
				<Border Name="GlyphKerningBorder" BorderBrush="#FFABADB3" BorderThickness="1" IsVisible="{Binding IsKerningViewVisible}">
					<StackPanel>
						<StackPanel Orientation="Horizontal" Margin="2">
							<Button Command="{Binding HideKerningEditorCommand}" Width="50" Height="26">
								<Button.Styles>
									<Style Selector="Button">
										<Setter Property="Background">
											<Setter.Value>
												<ImageBrush Source="/Assets/arrow_blue.png" Stretch="None"/>
											</Setter.Value>
										</Setter>
									</Style>
									<Style Selector="Button:pointerover /template/ ContentPresenter">
										<Setter Property="Background">
											<Setter.Value>
												<ImageBrush Source="/Assets/arrow_red.png" Stretch="None"/>
											</Setter.Value>
										</Setter>
									</Style>
									<Style Selector="Button:disabled /template/ ContentPresenter">
										<Setter Property="Background">
											<Setter.Value>
												<ImageBrush Source="/Assets/arrow_blue.png" Stretch="None"/>
											</Setter.Value>
										</Setter>
									</Style>
								</Button.Styles>
							</Button>
							<TextBlock Text="Go back" Margin="3,-1,0,0" VerticalAlignment="Center"/>
						</StackPanel>
						<Grid RowDefinitions="*,*">
							<DataGrid Grid.Row="0" Name="GlyphKerningGrid" ItemsSource="{Binding SelectedGlyph.Kerning}"
														  AutoGenerateColumns="False"
														  HorizontalGridLinesBrush="LightGray" VerticalGridLinesBrush="LightGray" HeadersVisibility="Column"
														  SelectionMode="Single">
								<DataGrid.Styles>
									<Style Selector="DataGridCell:selected /template/ ContentPresenter#PART_ContentPresenter">
										<Setter Property="Background" Value="{DynamicResource SystemAccentColor}" />
									</Style>
								</DataGrid.Styles>
								<DataGrid.Columns>
									<DataGridTemplateColumn Header="Preceeding char" Width="Auto">
										<DataGridTemplateColumn.CellTemplate>
											<DataTemplate>
												<TextBox Text="{Binding Character, Mode=TwoWay, Converter={StaticResource CharConverter}}"
																   MaxLength="1" ToolTip.Tip="{Binding Character, Mode=OneWay}">
												</TextBox>
											</DataTemplate>
										</DataGridTemplateColumn.CellTemplate>
									</DataGridTemplateColumn>
									<DataGridTemplateColumn Header="Add. shift" Width="Auto">
										<DataGridTemplateColumn.CellTemplate>
											<DataTemplate>
												<TextBox Text="{Binding ShiftModifier, Mode=TwoWay, UpdateSourceTrigger=LostFocus}" />
											</DataTemplate>
										</DataGridTemplateColumn.CellTemplate>
									</DataGridTemplateColumn>
								</DataGrid.Columns>
							</DataGrid>
							<Button Grid.Row="1" HorizontalAlignment="Stretch" Margin="5" DoubleTapped="Button_DoubleTapped">
								<TextBlock Margin="5" TextAlignment="Center" FontStyle="Italic">Double click to add.</TextBlock>
							</Button>
						</Grid>
					</StackPanel>
				</Border>
            </Grid>

			<TextBlock Grid.Row="19" Grid.ColumnSpan="2" Margin="3" TextWrapping="Wrap" HorizontalAlignment="Center" TextAlignment="Center">
				Note that the glyphs need to be specified in ascending order.<LineBreak/>
				Press the button below to sort them appropriately.
			</TextBlock>
			<Button Grid.Row="20" Grid.ColumnSpan="2" Margin="3" Command="{Binding SortGlyphsCommand}"
                          Content="Sort glyphs" Width="200" FontSize="14"/>

			<TextBlock Grid.Row="21" Grid.ColumnSpan="2" Margin="3,6,3,3" TextWrapping="Wrap" HorizontalAlignment="Center" TextAlignment="Center">
				Also, if you have added new characters or changed the character<LineBreak/>
				of an existing glyph, you should update the font range.<LineBreak/>
				Press the button below to do that.
			</TextBlock>
			<Button Grid.Row="22" Grid.ColumnSpan="2" Margin="3" Command="{Binding UpdateRangeCommand}"
                    Content="Update range" Width="200" FontSize="14"/>
		</Grid>
	</ScrollViewer>
</UserControl>
